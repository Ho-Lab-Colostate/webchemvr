<html>
  <head>
	  <title>a-ngl</title>
    <!-- Original found at https://a-ngl.glitch.me/ -->
    
    <script src="https://aframe.io/releases/0.8.2/aframe.min.js"></script>
    <script src="https://unpkg.com/super-hands/dist/super-hands.min.js"></script>
    <script src="//cdn.rawgit.com/donmccurdy/aframe-physics-system/v3.1.2/dist/aframe-physics-system.min.js"></script>
    <script src="https://unpkg.com/aframe-event-set-component@^4.1.1/dist/aframe-event-set-component.min.js"></script>
    <script src="https://unpkg.com/aframe-physics-extras/dist/aframe-physics-extras.min.js"></script>
    <script src="https://rawgit.com/feiss/aframe-environment-component/master/dist/aframe-environment-component.min.js"></script>
    
	  <!-- NGL -->
    <script src="./a-ngl.js"></script>
    <script src="./ngl-dev.js"></script>
    
    <!-- extras -->
    <script src="./ethans.js"></script>
    
    <!-- Sharedspace 
    <script src="https://unpkg.com/aframe-sharedspace-component@1.0.1/dist/aframe-sharedspace-component.min.js"></script>-->
    
    <!-- Motion capture 
    <script src="https://unpkg.com/aframe-motion-capture-components/dist/aframe-motion-capture-components.min.js"></script>-->
    
    <!-- A frame GUI component 
    <script src="https://rawgit.com/rdub80/aframe-gui/master/dist/aframe-gui.min.js"></script>-->
    
    <!-- Teleport Controls Aframe 0.7.1 in example 
    <script src="https://rawgit.com/fernandojsg/aframe-teleport-controls/master/dist/aframe-teleport-controls.min.js"></script>-->

  </head>	
  <body>
    <!-- scene must have light="defaultLightsEnabled: true" to render correctly on Safari mobile VR mode -->
	  <a-scene physics light="defaultLightsEnabled: true" background="color: #d8ecf9" avatar-downloader
             ><!--
             avatar-replayer="src: https://cdn.glitch.com/63c3d0a9-aa0b-44cc-99ea-52a914562c8c%2F9.json?1553905149377">-->
      <a-assets>
        <img id="grid" src="https://img.gs/bbdkhfbzkk/stretch/https://i.imgur.com/25P1geh.png" crossorigin="anonymous">
        <!-- Super Hands raycaster controller -->
        <a-mixin id="pointer" raycaster="showLine: true; objects: .molwrapper"
                 super-hands="colliderEvent: raycaster-intersection;
                              colliderEventProperty: els;
                              colliderEndEvent:raycaster-intersection-cleared;
                              colliderEndEventProperty: clearedEls;"></a-mixin>
        <a-mixin id="controller-right-rc" mixin="pointer" vive-controls="hand: right"
                 oculus-touch-controls="hand: right" windows-motion-controls="hand: right"
                 gearvr-controls daydream-controls oculus-go-controls></a-mixin>
        <a-mixin id="controller-left-rc" mixin="pointer" vive-controls="hand: left"
                 oculus-touch-controls="hand: left" windows-motion-controls="hand: left"></a-mixin>
        
        <!-- Super Hands physics controllers -->
        <a-mixin id="touch" physics-collider
                 collision-filter="collisionForces: false"
                 static-body="shape: sphere; sphereRadius: 0.02"
                 super-hands="colliderEvent: collisions;
                              colliderEventProperty: els;
                              colliderEndEvent: collisions;
                              colliderEndEventProperty: clearedEls;"></a-mixin>
        <a-mixin id="controller-right-touch" mixin="touch" vive-controls="hand: right"
                 oculus-touch-controls="hand: right" windows-motion-controls="hand: right"></a-mixin>
        <a-mixin id="controller-left-touch" mixin="touch" vive-controls="hand: left"
                 oculus-touch-controls="hand: left" windows-motion-controls="hand: left"></a-mixin>
        
        <!-- Basic super hands controllers -->
        <a-mixin id="controller-left-basic" sphere-collider="objects: .molwrapper"
                 super-hands hand-controls="left"></a-mixin>
        <a-mixin id="controller-right-basic" sphere-collider="objects: .molwrapper"
                 super-hands hand-controls="right"></a-mixin>
        
        <!-- molwrapper box -->
        <a-mixin id="molwrapper" hoverable grabbable stretchable
                 draggable droppable clickable></a-mixin>
      </a-assets>

      <!-- PLAYER -->
      <a-entity id="cameraRig" position="0 0 0">
        <!-- camera -->
        <a-camera id="head" position="0 0 0">
          <!--<a-cursor></a-cursor>-->
        </a-camera>
        <!-- Super Hands controllers 
             mixin="controller-right-rc" breaks NGL stage -->
        <a-entity id="rhand" mixin="touch"
                  vive-controls="hand: right" oculus-touch-controls="hand: right" windows-motion-controls="hand: right"
                  ></a-entity>
        <a-entity id="lhand" mixin="touch"
                  vive-controls="hand: left" oculus-touch-controls="hand: left" windows-motion-controls="hand: left"
                  ><!--
                  teleport-controls="cameraRig: #cameraRig; teleportOrigin: #head;
                                     startEvents: teleportstart; endEvents: teleportend; type: line">--></a-entity>
      </a-entity>
      
      <!-- Ground static body -->
      <a-box static-body width="100" height="1" depth="100" visible="true" color="grey" position="0 -1 0"
             material="src: #grid; repeat: 100 100; transparent: true; metalness:0.6; roughness: 0.4;"></a-box>
      
      <!-- "Table" for molecule to sit on 
      <a-box static-body width="1" height="1" depth="1" color="red" position="0 0 -1"></a-box>-->
      
      <!-- Molecules -->
      <a-box dynamic-body mixin="molwrapper" color="blue" wireframe="true"
             rotation="0 0 0" position="0 .1 -.9" depth="0.2" width="0.2" height="0.2">
          <!-- -->
          <a-entity scale="0.02 0.02 0.02"
                    id="mol1"
                    ngl-mol="src: rcsb://3cro;
                             repAlgebra: protein=cartoon=element++ARG=ball+stick=element++dna=cartoon=residue; 
                             showWrapper: false;
                             devKeyBinds: true"></a-entity>
      </a-box>
      
    </a-scene>
    <!-- Link for avatar-downloader component--> 
    <a href="http://www.google.com" id="dlJSON"
       style="visibility: hidden; fill:#222; color:#fff; position: absolute; top: 0; border: 0; right: 0;">Download JSON</a>
  </body>
  <div id="viewport" width="0px" height="0px"></div>
</html>